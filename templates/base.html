{% load staticfiles %} {% load compress %}
<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>{% block head_title %}Star Citizen - Новости, обновления, гайды, база знаний.{% endblock %}</title>
  <meta name="description" content="{% block description %}Информационный портал посвященный игре Star Citizen и Squadron 42.{% endblock description %}">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,400i,500,700&amp;subset=cyrillic,cyrillic-ext,latin-ext" rel="stylesheet">
  {% block extend %}{% endblock extend %}
  {% compress css file %}
  <link rel='stylesheet' href='{% static "css/bootstrap.min.css" %}' />
  <link rel='stylesheet' href='{% static "css/quill.core.css" %}' />
  <link rel='stylesheet' href="{% static 'tellme/feedback.min.css' %}" rel="stylesheet" />
  {% block css %}{% endblock %}
  <link rel='stylesheet' href='{% static "css/main.css" %}' />
  {% endcompress %}
</head>

<body {% block bodyclass %}{% endblock bodyclass %}>
  {% include 'nav.html' %}
  {% if messages %}
  <div class="alerts-box">
    {% for message in messages %}
    <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %} alert-dismissible fade show clearfix" role="alert">
      <div class="alert-message">{{ message }}</div>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    {% endfor %}
  </div>
  {% endif %}
  {% block content %}{% endblock content %}
  
  {% compress js file %}
  <script src="{% static 'js/jquery-3.2.1.min.js' %}"></script>
  <script src="{% static 'js/popper.min.js' %}"></script>
  <script src="{% static 'js/bootstrap.min.js' %}"></script>
  <script src="{% static 'js/main.js' %}"></script>
  <script type="text/javascript">
  function getCookie(name) {
    var cookieValue = null;
    if (document.cookie && document.cookie != '') {
        var cookies = document.cookie.split(';');
        for (var i = 0; i < cookies.length; i++) {
            var cookie = jQuery.trim(cookies[i]);
            // Does this cookie string begin with the name we want?
            if (cookie.substring(0, name.length + 1) == (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
  }
  var csrftoken = getCookie('csrftoken');
  function csrfSafeMethod(method) {
    // these HTTP methods do not require CSRF protection
    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
  }
  $.ajaxSetup({
    beforeSend: function(xhr, settings) {
      if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
          xhr.setRequestHeader("X-CSRFToken", csrftoken);
      }
    }
  });
    $(function () {
      $.feedback({
        ajaxURL: "{% url 'tellme:post_feedback' %}",
        html2canvasURL: "{% static 'tellme/html2canvas.min.js' %}",
        feedbackButton: "#feedback-btn",
        initButtonText: "{% filter escapejs %}{%  include 'tellme/initButtonText.txt' %}{% endfilter %}",
        postHTML: false,
        tpl: {
          description: "{% filter escapejs %}{%  include 'tellme/tpl-description.html' %}{% endfilter %}",
          highlighter: "{% filter escapejs %}{%  include 'tellme/tpl-highlighter.html' %}{% endfilter %}",
          overview: "{% filter escapejs %}{%  include 'tellme/tpl-overview.html' %}{% endfilter %}",
          submitSuccess: "{% filter escapejs %}{%  include 'tellme/tpl-submit-success.html' %}{% endfilter %}",
          submitError: "{% filter escapejs %}{%  include 'tellme/tpl-submit-error.html' %}{% endfilter %}"
        },
        initialBox: true
      });
    });
  </script>
  <script src="{% static 'tellme/feedback.min.js' %}"></script>
  {% block javascript %}{% endblock %}
  {% endcompress %}
  {% block jsnocompress %}{% endblock %}
  {% include 'footer.html' %}
</body>
</html>